spring.application.name=AFAC-BackEnd

# Server Configuration
server.port=${SERVER_PORT:8081}

# Database Configuration
spring.jpa.hibernate.ddl-auto=update
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.datasource.url=${DATABASE_PUBLIC_URL}?sslmode=require
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}
spring.jpa.show-sql=true


# Hibernate Configuration
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true


# Additional Database Properties
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false
spring.jpa.properties.hibernate.jdbc.time_zone=UTC
spring.datasource.hikari.auto-commit=true
spring.jpa.properties.hibernate.connection.provider_disables_autocommit=false

# JPA Configuration
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.enable_lazy_load_no_trans=true
spring.jpa.properties.hibernate.generate_statistics=false
spring.jpa.properties.hibernate.connection.isolation=2

# Configuración para depuración
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.com.zaxxer.hikari=DEBUG
logging.level.org.springframework.jdbc=DEBUG

# Date Format Configuration
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss

# Email Configuration
spring.mail.host=smtp.gmail.com
spring.mail.port=${SPRING_MAIL_PORT:465}
spring.mail.username=${SPRING_MAIL_USERNAME:somosafac.dev@gmail.com}
spring.mail.password=${SPRING_MAIL_PASSWORD:kadgsslofgeexsiz}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.properties.mail.smtp.ssl.enable=true

# JWT Configuration
jwt.secret=${JWT_SECRET_KEY:586E3272357538782F413F4428472B4B6250655368566B597033733676397924}
jwt.expiration=${JWT_EXPIRATION_TIME:86400000}
jwt.reset.expiration=${JWT_RESET_EXPIRATION:1440}



# Startup probe configuration
spring.lifecycle.timeout-per-shutdown-phase=20s